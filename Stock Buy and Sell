Stock Buy and Sell | (DP-35)



1

Problem Statement: We are given an array Arr[] of length n. It represents the price of a stock on ‘n’ days. The following guidelines need to be followed:

1.We can buy and sell a stock only once.
2.We can buy and sell the stock on any day but to sell the stock, we need to first buy it on the same or any previous day.

We need to tell the maximum profit one can get by buying and selling this stock.

Examples
Input : prices = [7, 1, 5, 3, 6, 4]
Output :5
Explanation :Buy on day 2 (price = 1) and sell on day 5 (price = 6), profit = 6 - 1 = 5.We cannot sell before we buy, so profit is not 7 - 1 = 6.

Input :prices = [7, 6, 4, 3, 1]
Output :0
Explanation :No transaction is done, as the price keeps falling every day. So, profit = 0.




=======================================================
public class StockBuySellBruteForce {

    public static int maxProfit(int[] prices) {
        int n = prices.length;
        int maxProfit = 0;

        for (int buy = 0; buy < n; buy++) {
            for (int sell = buy + 1; sell < n; sell++) {
                int profit = prices[sell] - prices[buy];
                maxProfit = Math.max(maxProfit, profit);
            }
        }

        return maxProfit;
    }

    public static void main(String[] args) {
        int[] prices = {7, 1, 5, 3, 6, 4};
        System.out.println(maxProfit(prices)); // Output: 5
    }
}
Complexity

Time: O(n²)

Space: O(1)

❌ Not suitable for large inputs
===============================
Observation

When selling on day i, the best buy day is the day with minimum price before i.

So:

Keep track of minimum price so far

public class StockBuySellOptimized {

    public static int maxProfit(int[] prices) {
        int minPrice = Integer.MAX_VALUE;
        int maxProfit = 0;

        for (int price : prices) {
            // Update minimum price
            minPrice = Math.min(minPrice, price);

            // Calculate profit if sold today
            int profit = price - minPrice;

            // Update maximum profit
            maxProfit = Math.max(maxProfit, profit);
        }

        return maxProfit;
    }

    public static void main(String[] args) {
        int[] prices = {7, 1, 5, 3, 6, 4};
        System.out.println(maxProfit(prices)); // Output: 5
    }
}

